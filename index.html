<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>Baltimore Scratch</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.tiles.mapbox.com/mapbox.js/v2.2.0/mapbox.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox.js/v2.2.0/mapbox.css' rel='stylesheet' />
  <link href='style.css' rel='stylesheet' />
  <style>
    body { margin:0; padding:0; }
    .map { position:absolute; top:0; bottom:0; width:100%; }
  </style>
</head>
<body>
<style>
    .leaflet-popup-content-wrapper { width: 400px;}
    .baltimore-text {font-size: 4em; position: absolute; color: #fff; text-align: center; z-index:100; margin: 0 auto; top: 0%; transform: translateY(50%); right: 20%; background: #9d7e60;}
    .subtext {font-size: 20px; font-weight: lighter;}
</style> 
<div class="baltimore-text">WITH LOVE, BALTIMORE<br/>
<div class="subtext">(click the map markers)</div></div>
<div id='map-one' class='map'> </div>
<script>
L.mapbox.accessToken = 'pk.eyJ1IjoidGhlaXZ5cHJvamVjdCIsImEiOiJjaWVqeXRvazMwMDMyc29ra3U2bnhuYWZkIn0.GcwSklJTRF2DRFQRRwCoAQ';
var geojson = [
  {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.660022,
          39.328587
        ]
      },
      "properties": {
        "title": "Park Heights Community",
        "marker-color": "#9d7e60",
        "marker-size": "medium",
        "marker-symbol": "building",
        video: '<iframe src="http://player.vimeo.com/video/71081731" width="380" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/71081731">Project005: Baltimore</a> from <a href="https://vimeo.com/ellenwildhagen">ellen wildhagen</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.668777,
          39.312652
        ]
      },
      "properties": {
        "title": "Walbrook Community",
        "marker-color": "#9d7e60",
        "marker-size": "medium",
        "marker-symbol": "building",
        video: '<iframe src="http://player.vimeo.com/video/57571301" width="380" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/57571301">One City - Eight Artists - Seven Days: Baltimore</a> from <a href="https://vimeo.com/user15872989">XXIST</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
      }
    },

    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.589341,
          39.309397
        ]
      },
      "properties": {
        "title": "Broadway",
        "marker-color": "#9d7e60",
        "marker-size": "medium",
        "marker-symbol": "building",
        video: '<iframe src="http://player.vimeo.com/video/67777137" width="380" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/67777137">Baltimore Vacants: A Documentary</a> from <a href="https://vimeo.com/tarekturkey">Tarek Turkey</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',

      }
    },

    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.643157,
          39.312486
        ]
      },
      "properties": {
        "title": "Mondawmin",
        "marker-color": "#9d7e60",
        "marker-size": "medium",
        "marker-symbol": "building",
        video: '<iframe src="http://player.vimeo.com/video/67777137" width="380" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/67777137">Baltimore Vacants: A Documentary</a> from <a href="https://vimeo.com/tarekturkey">Tarek Turkey</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',

      }
    },

    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.619467,
          39.291797
        ]
      },
      "properties": {
        "title": "Lexington Market",
        "marker-color": "#9d7e60",
        "marker-size": "medium",
        "marker-symbol": "building",
        video: '<iframe src="http://player.vimeo.com/video/67777137" width="380" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/67777137">Baltimore Vacants: A Documentary</a> from <a href="https://vimeo.com/tarekturkey">Tarek Turkey</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',

      }
    }

  ]
}

];
var map = L.mapbox.map('map-one', 'theivyproject.f65941bf').setView([39.318587,-76.620022], 14);
var myLayer = L.mapbox.featureLayer().addTo(map);
// Add the iframe in a marker tooltip using the custom feature properties
myLayer.on('layeradd', function(e) {
    var marker = e.layer,
        feature = marker.feature;

    // Create custom popup content from the GeoJSON property 'video'
    var popupContent =  feature.properties.video;

    // bind the popup to the marker http://leafletjs.com/reference.html#popup
    marker.bindPopup(popupContent,{
        closeButton: false,
        minWidth: 320
    });
});

// Add features to the map
myLayer.setGeoJSON(geojson);
</script>
</body>
</html>
View source
